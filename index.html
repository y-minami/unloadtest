<html>
<body>
<div id="text">

</div>
</body>
<script>
  var text = document.querySelector('#text');
  var body = document.querySelector('body');
  body.addEventListener('unload', function () {
    console.log(arguments);
    text.innerText = text.innerText + 'UNLOADED!!\n';
  });

  window.addEventListener('blur', function() {
    console.log(arguments);
    text.innerText = text.innerText + 'BLURRED!!\n';
  });

  var intTime = new Date().getTime();
  var getTime = function() {
    var intNow = new Date().getTime();
    if (intNow - intTime > 1000) {
      text.innerText = text.innerText + 'I JUST WOKE UP\n';
    }
    intTime = intNow;
    setTimeout(getTime,500);
  };
  getTime();

  window.addEventListener("pageshow", function(){
    text.innerText = text.innerText + 'PAGE SHOWN!!!\n';
  }, false);

  window.addEventListener("pagehide", function(){
    text.innerText = text.innerText + 'PAGE HIDDEN!!!\n';
  }, false);

//   var sleepPreventInterval = setInterval(function() {
//     window.location.href = "/";
//     window.setTimeout(function() {
//       window.stop();
//     }, 0);
//   }, 5000);
</script>
</html>
